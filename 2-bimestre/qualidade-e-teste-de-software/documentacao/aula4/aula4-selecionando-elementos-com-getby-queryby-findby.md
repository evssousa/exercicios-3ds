## üßë‚Äçüè´ **Aula 4 ‚Äî Selecionando elementos com `getBy`, `queryBy`, `findBy`**

### ‚úÖ **1. Diferen√ßa entre os seletores**

| M√©todo | Descri√ß√£o curta | Quando usar |
| --- | --- | --- |
| `getBy` | Procura **sincronamente**, d√° erro se n√£o encontrar | Quando o elemento **deve** estar na tela |
| `queryBy` | Parecido com `getBy`, mas **n√£o d√° erro** se n√£o achar | Quando o elemento pode ou **n√£o estar presente** |
| `findBy` | **Ass√≠ncrono**, espera o elemento aparecer | Quando o elemento **aparece depois de um tempo** (ex: requisi√ß√µes) |


### ‚úÖ **2. Criando componente `MensagemCondicional.jsx`**

```jsx
// src/components/MensagemCondicional.jsx
export function MensagemCondicional({ exibir }) {
  return (
    <div>
      {exibir ? <p>Mensagem vis√≠vel</p> : null}
    </div>
  );
}

```

### ‚úÖ **3. Criando testes com `getBy` e `queryBy`**

```js
// src/components/MensagemCondicional.test.js
import { render, screen } from '@testing-library/react';
import { MensagemCondicional } from './MensagemCondicional';

test('mensagem deve aparecer quando exibir for true', () => {
  render(<MensagemCondicional exibir={true} />);

  const msg = screen.getByText('Mensagem vis√≠vel');
  expect(msg).toBeInTheDocument();
});

test('mensagem n√£o deve aparecer quando exibir for false', () => {
  render(<MensagemCondicional exibir={false} />);

  const msg = screen.queryByText('Mensagem vis√≠vel');
  expect(msg).not.toBeInTheDocument();
});

```

### ‚úÖ **4. Exemplo com `findBy` (ass√≠ncrono)**

```jsx
// src/components/MensagemAtrasada.jsx
import { useEffect, useState } from 'react';

export function MensagemAtrasada() {
  const [mensagem, setMensagem] = useState('');

  useEffect(() => {
    setTimeout(() => {
      setMensagem('Carregado com sucesso!');
    }, 1000); // aparece depois de 1 segundo
  }, []);

  return <p>{mensagem}</p>;
}

```

**Teste com `findBy`:**

```jsx
// src/components/MensagemAtrasada.test.js
import { render, screen } from '@testing-library/react';
import { MensagemAtrasada } from './MensagemAtrasada';

test('mensagem deve aparecer depois de um tempo', async () => {
  render(<MensagemAtrasada />);

  // Espera a mensagem aparecer (ass√≠ncrono)
  const mensagem = await screen.findByText('Carregado com sucesso!');
  expect(mensagem).toBeInTheDocument();
});

```

### üß™ Explica√ß√£o com coment√°rios

```jsx
// getByText - erro se n√£o encontrar
screen.getByText('Texto')

// queryByText - retorna null se n√£o encontrar (sem erro)
screen.queryByText('Texto')

// findByText - espera aparecer, bom pra async
await screen.findByText('Texto')

```

### üíª Atividade Proposta:

**Componente:** `AvisoErro`

Recebe a prop `erro` e, se ela estiver preenchida, exibe um `<p>` com o erro.

**Testes:**

1. Quando `erro` estiver presente, o texto deve aparecer.
2. Quando `erro` estiver vazio, o elemento **n√£o** deve estar presente.